<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>결제 — DPS Store</title>
  <meta property="og:image" content="assets/logo.png">
  <link rel="icon" href="assets/logo.png" type="image/png">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="payment.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
</head>
<body class="payment-page-body">
    <!-- Mobile Payment Header -->
    <div class="mobile-cart-header">
        <a href="cart.html" class="back-button"><span class="material-symbols-outlined">arrow_back_ios</span> 결제</a>
    </div>



  <div class="wrap">
    <section class="panel">
      <div class="brand">
        <div class="logo">DP</div>
        <div>
          <h1>결제하기</h1>
          <p>안전한 계좌이체 — 은행으로 송금 후 확인</p>
        </div>
      </div>

      <div class="product-slider-container" style="margin-top:18px;">
        <div class="product-slider-wrapper" id="payment-product-summary">
          <!-- Product details will be dynamically inserted here -->
        </div>
        <button class="slider-btn prev-btn"><span class="material-symbols-outlined">arrow_back_ios</span></button>
        <button class="slider-btn next-btn"><span class="material-symbols-outlined">arrow_forward_ios</span></button>
      </div>

      <div class="divider"></div>

      <div class="pay-card">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div>
            <div style="font-weight:800;font-size:16px">계좌이체</div>
            <div class="muted-small">은행으로 직접 송금 후, 하단에서 확인 버튼을 눌러주세요.</div>
          </div>
          <div class="muted-small"></div>
        </div>

        <div class="form-grid" style="margin-top:6px">
          <div>
            <label for="payer">입금자명</label>
            <input id="payer" type="text" placeholder="반드시 실명을 사용하세요." value="">
          </div>
          <div>
            <label for="phone">연락처</label>
            <input id="phone" type="tel" placeholder="010-1234-5678">
          </div>
        </div>

        <div style="margin-top:8px">
          <label for="memo">입금 메모 (선택)</label>
          <input id="memo" type="text" placeholder="주문번호 또는 입금자명 기재 권장">
          <div class="hint" style="margin-top:8px">※ 입금 시 주문번호 또는 입금자명을 정확히 입력해주시면 확인이 빨라집니다.</div>
        </div>

        <div class="divider"></div>

        <div>
          <label>보낼 은행 선택</label>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button class="btn btn-ghost bank-select" data-bank="국민은행">국민은행</button>
          </div>
        </div>

        <div class="divider"></div>

        <div>
          <label>입금 계좌 정보</label>
          <div class="account-box" id="accountBox">
            <div class="acc-left">
              <div class="acc-number" id="accountNumber">000-0000-000000</div>
              <div class="acc-bank" id="accountBank">은행 • 예금주: DPS</div>
            </div>
            <div class="acc-actions">
              <button class="btn btn-copy" id="copyBtn">계좌복사</button>

            </div>
          </div>
          <div class="hint" style="margin-top:8px">※ 버튼으로 계좌번호를 복사한 뒤, 사용하시는 은행 앱에서 송금하세요.</div>
        </div>

        <div style="display:flex;gap:12px;align-items:center;margin-top:14px">
          <div style="flex:1">
            <label>총 결제금액</label>
            <div style="font-weight:800;font-size:20px;">₩ <span id="totalAmount">0</span></div>
          </div>
          <div style="text-align:right">
            <div class="muted-small">입금 만료까지</div>
            <div class="timer" id="countdown">00:59:59</div>
          </div>
        </div>

        <div class="notice" style="margin-top:12px">입금 전 결제 완료 버튼을 누르면 주문이 접수되지 않습니다. 주문 확인까지 최대 3시간이 소요될 수 있습니다.</div>

        <div class="actions">
          <button class="btn btn-primary" id="iPaidBtn">결제 완료</button>
          <button class="btn btn-ghost" id="cancelBtn">주문 취소</button>
        </div>

      </div>

    </section>

    <aside class="summary">
      <h3>주문 요약</h3>
      <div id="summary-items-container">
        <!-- Summary items will be dynamically inserted here -->
      </div>
      <div class="divider"></div>
      <div class="total"><span>결제 예정금액</span><span>₩ <strong id="summaryTotal">0</strong></span></div>

      <div style="margin-top:18px">
        <div style="display:flex;gap:10px;align-items:center;">
          <div style="width:8px;height:8px;border-radius:2px;background:var(--accent);"></div>
          <div style="font-weight:700">계좌이체 안내</div>
        </div>
        <p class="muted-small" style="margin-top:8px">입금 후 확인을 눌러 주세요. 수동으로 확인하기 때문에 시간이 소요될 수 있습니다.</p>
      </div>

    </aside>
  </div>



    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>

    <!-- Firebase Config -->
    <script src="js/firebase-config.js"></script>

    <!-- Custom Scripts -->
    <script src="js/products.js"></script>
    <script src="js/payment.js"></script>

</body>
</html>